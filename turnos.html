<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Turnos - CAPS</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        .appointment-container {
            background-color: #f8f9fa;
            padding: 2rem;
            border-radius: 8px;
        }
        .calendar-highlight {
            background-color: #e3f2fd;
            border-left: 4px solid #2196F3;
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar/Navbar lateral -->
            <div class="col-md-3 col-lg-2 sidebar">
                <!-- Logo del CAPS (cambiable) -->
                <div class="text-center py-4">
                    <img src="https://via.placeholder.com/150x80/4A6572/FFFFFF?text=CAPS+Logo" alt="Logo CAPS" id="logo-caps" class="img-fluid" style="max-height: 80px;">
                    <p class="mt-2 text-white">Centro de Atención Primaria de la Salud</p>
                </div>

                <!-- Barra de búsqueda -->
                <div class="px-3 py-2">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Buscar..." aria-label="Buscar">
                        <button class="btn btn-outline-light" type="button"><i class="fas fa-search"></i></button>
                    </div>
                </div>

                <!-- Menú de acceso rápido a profesionales -->
                <nav class="navbar mt-3">
                    <ul class="navbar-nav w-100">
                        <li class="nav-item">
                            <a class="nav-link" href="medicos-generalistas.html">
                                <i class="fas fa-user-md me-2"></i> Médicos Generalistas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="nutricionista.html">
                                <i class="fas fa-apple-alt me-2"></i> Nutricionistas
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="psicologos.html">
                                <i class="fas fa-brain me-2"></i> Psicólogos
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="medicos-pediatras.html">
                                <i class="fas fa-baby me-2"></i> Médicos Pediatras
                            </a>
                        </li>
                        <li class="nav-item mt-3">
                            <a class="nav-link btn btn-primary text-white" href="turnos.html">
                                <i class="fas fa-calendar-check me-2"></i> Solicitar Turno
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="login.html">
                                <i class="fas fa-sign-in-alt me-2"></i> Portal del Paciente
                            </a>
                        </li>
                        <li class="nav-item d-none" data-login-state="logged-in">
                            <a class="nav-link text-warning" href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt me-2"></i> Cerrar Sesión
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

            <!-- Contenido principal -->
            <div class="col-md-9 col-lg-10 content">
                <div class="container-fluid mt-4">
                    <h1 class="mb-4">Gestión de Turnos</h1>
                    
                    <div class="row">
                        <div class="col-lg-8">
                            <div class="appointment-container">
                                <h3 class="mb-4">Solicitar Nuevo Turno</h3>
                                
                                <form id="appointmentForm">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="specialty" class="form-label">Especialidad</label>
                                            <select class="form-select" id="specialty" onchange="loadDoctorsBySpecialty()" required>
                                                <option value="">Seleccione una especialidad</option>
                                                <option value="general">Médico Generalista</option>
                                                <option value="nutrition">Nutricionista</option>
                                                <option value="psychology">Psicología</option>
                                                <option value="pediatrics">Pediatría</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="doctor" class="form-label">Profesional</label>
                                            <select class="form-select" id="doctor" required>
                                                <option value="">Seleccione un profesional</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="appointment-date" class="form-label">Fecha preferente</label>
                                            <input type="date" class="form-control" id="appointment-date" min="" required>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="appointment-time" class="form-label">Horario preferente</label>
                                            <select class="form-select" id="appointment-time" required>
                                                <option value="">Seleccione un horario</option>
                                                <option value="08:00">08:00</option>
                                                <option value="09:00">09:00</option>
                                                <option value="10:00">10:00</option>
                                                <option value="11:00">11:00</option>
                                                <option value="12:00">12:00</option>
                                                <option value="14:00">14:00</option>
                                                <option value="15:00">15:00</option>
                                                <option value="16:00">16:00</option>
                                                <option value="17:00">17:00</option>
                                                <option value="18:00">18:00</option>
                                            </select>
                                        </div>
                                    </div>
                                    
                                    <div class="mb-3">
                                        <label for="reason" class="form-label">Motivo de la consulta</label>
                                        <textarea class="form-control" id="reason" rows="3" required></textarea>
                                    </div>
                                    
                                    <div class="form-check mb-4">
                                        <input class="form-check-input" type="checkbox" id="urgent">
                                        <label class="form-check-label" for="urgent">
                                            Marcar como urgente
                                        </label>
                                    </div>
                                    
                                    <button type="submit" class="btn btn-primary w-100">Solicitar Turno</button>
                                </form>
                                
                                <div id="appointmentResult" class="mt-4"></div>
                            </div>
                            
                            <!-- Turnos solicitados -->
                            <div class="mt-5">
                                <h4 class="mb-3">Mis Turnos Solicitados</h4>
                                <div class="table-responsive">
                                    <table class="table table-striped">
                                        <thead>
                                            <tr>
                                                <th>Fecha</th>
                                                <th>Hora</th>
                                                <th>Profesional</th>
                                                <th>Estado</th>
                                                <th>Acciones</th>
                                            </tr>
                                        </thead>
                                        <tbody id="appointmentsList">
                                            <tr>
                                                <td colspan="5" class="text-center">No hay turnos solicitados</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-lg-4">
                            <!-- Información importante -->
                            <div class="card mb-4">
                                <div class="card-header bg-info text-white">
                                    <h5 class="mb-0">Información importante</h5>
                                </div>
                                <div class="card-body">
                                    <ul class="list-group list-group-flush">
                                        <li class="list-group-item">
                                            <i class="fas fa-clock text-info me-2"></i>
                                            <strong>Llegar 15 minutos antes</strong> de la hora asignada
                                        </li>
                                        <li class="list-group-item">
                                            <i class="fas fa-id-card text-info me-2"></i>
                                            Traer <strong>DNI y carnet de obra social</strong> (si corresponde)
                                        </li>
                                        <li class="list-group-item">
                                            <i class="fas fa-stethoscope text-info me-2"></i>
                                            Para estudios traer <strong>órdenes médicas</strong> y estudios previos
                                        </li>
                                        <li class="list-group-item">
                                            <i class="fas fa-ban text-info me-2"></i>
                                            Cancelar con <strong>24 horas de anticipación</strong> si no puede asistir
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            
                            <!-- Calendario de disponibilidad -->
                            <div class="card">
                                <div class="card-header bg-primary text-white">
                                    <h5 class="mb-0">Próximos turnos disponibles</h5>
                                </div>
                                <div class="card-body">
                                    <div class="calendar-highlight p-3 mb-3">
                                        <h6>Esta semana</h6>
                                        <p class="mb-1">Miércoles - 5 turnos disponibles</p>
                                        <p class="mb-1">Jueves - 3 turnos disponibles</p>
                                        <p>Viernes - 7 turnos disponibles</p>
                                    </div>
                                    <div class="p-3">
                                        <h6>Próxima semana</h6>
                                        <p class="mb-1">Lunes - 8 turnos disponibles</p>
                                        <p class="mb-1">Martes - 4 turnos disponibles</p>
                                        <p>Miércoles - 6 turnos disponibles</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-4">
                        <a href="index.html" class="btn btn-outline-primary">
                            <i class="fas fa-arrow-left me-2"></i> Volver al Inicio
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white pt-4 pb-2 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Contacto</h5>
                    <p><i class="fas fa-map-marker-alt me-2"></i> RUTA 5 KM 7/2, CP 5300 La Rioja</p>
                    <p><i class="fas fa-phone me-2"></i> (380) 456-7890</p>
                    <p><i class="fas fa-envelope me-2"></i> info@capslarioja.ar</p>
                </div>
                <div class="col-md-4">
                    <h5>Emergencias</h5>
                    <p><i class="fas fa-ambulance me-2"></i> 107 - Emergencias Médicas</p>
                    <p><i class="fas fa-fire me-2"></i> 100 - Bomberos</p>
                    <p><i class="fas fa-shield-alt me-2"></i> 911 - Policía</p>
                </div>
                <div class="col-md-4">
                    <h5>Síguenos</h5>
                    <div class="d-flex">
                        <a href="#" class="text-white me-3"><i class="fab fa-facebook-f fa-2x"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-twitter fa-2x"></i></a>
                        <a href="#" class="text-white me-3"><i class="fab fa-instagram fa-2x"></i></a>
                        <a href="#" class="text-white"><i class="fab fa-youtube fa-2x"></i></a>
                    </div>
                    <div class="mt-3">
                        <a href="https://maps.google.com/?q=RUTA+5+KM+7/2,+CP+5300+La+Rioja" target="_blank" class="btn btn-outline-light btn-sm">
                            <i class="fas fa-map-marked-alt me-1"></i> Ver en Google Maps
                        </a>
                    </div>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p class="mb-0">&copy; 2023 Centro de Atención Primaria de la Salud. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script src="script.js"></script>
</body>
</html>